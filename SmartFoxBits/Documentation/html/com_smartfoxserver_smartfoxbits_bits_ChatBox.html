<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ChatBox</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" type="text/css" href="../css/VisDoc.css" /><script src="../js/jquery.js" type="text/javascript">//</script><script src="../js/common.js" type="text/javascript">//</script><script src="../js/doc.js" type="text/javascript">//</script></head><body id="page_com_smartfoxserver_smartfoxbits_bits_ChatBox"><script type="text/javascript">VisDoc.initBody();</script><div id="PageTop"><!----></div><div class="VisDoc"><div class="content"><div class="docNav"><ul><li><div id="twistyTOC_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited activeWhenNotFramed"><a href="#"><span class="icon">+</span>Show TOC</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("twistyTOC_show");</script><div id="twistyTOC_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited activeWhenFramed"><a href="#"><span class="icon">&times;</span>Hide TOC</a></div><span id="twistyTOC_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("twistyTOC_hide");</script></li></ul><ul class="accessKeyLinks"><li><a href="#PageTop" accesskey="t"><span class="accessKey">T</span>op</a></li><li><a href="#Summary" accesskey="s"><span class="accessKey">S</span>ummary</a></li><li><a href="#Constructor" accesskey="c"><span class="accessKey">C</span>onstructors</a></li><li><a href="#Classproperties" accesskey="l">C<span class="accessKey">l</span>ass properties</a></li><li><a href="#Instanceproperties" accesskey="l">Instance <span class="accessKey">p</span>roperties</a></li><li><a href="#Classmethods" accesskey="a">Cl<span class="accessKey">a</span>ss methods</a></li><li><a href="#Instancemethods" accesskey="m">Instance <span class="accessKey">m</span>ethods</a></li><li><a href="#Eventhandlers" accesskey="e"><span class="accessKey">E</span>vent handlers</a></li></ul><br class="clear" /></div><h1>ChatBox</h1><div class="classProperties"><table cellspacing="0"><tr><th align="left">Kind of class:</th><td>public class</td></tr><tr><th align="left">Package:</th><td><a class="className" href="package-com_smartfoxserver_smartfoxbits_bits.html">com.smartfoxserver.smartfoxbits.bits</a></td></tr><tr><th align="left">Inherits from:</th><td>UIComponent</td></tr><tr><th class="classDetails" align="left">Version:</th><td class="classDetails">1.0</td></tr><tr><th class="classDetails" align="left">Author:</th><td class="classDetails">The gotoAndPlay() Team<br />			<a href="http://www.smartfoxserver.com">http://www.smartfoxserver.com</a><br />			<a href="http://www.gotoandplay.it">http://www.gotoandplay.it</a></td></tr><tr><th class="classDetails" align="left">Classpath:</th><td class="classDetails">com.smartfoxserver.smartfoxbits.bits.ChatBox</td></tr><tr><th class="classDetails" align="left">File last modified:</th><td class="classDetails">Wednesday, 15 April 2009, 19:01:26</td></tr></table></div><div class="classDescription"><span class="descriptionSummary">    The ChatBox class provides the public APIs to interact with the SmartFoxBits ChatBox control at author-time and run-time.</span><br /><img src="../img/ChatBox.jpg"/><br />The <b>SmartFoxBits ChatBox</b> control allows (a) public interaction among users inside the same SmartFoxServer room, by means of public text messages, and (b) private cross-room interaction, by means of private text messages.<br />The control contains a textfield to input the message, a color picker to set the message color, a send button and a text area where sent and received messages are displayed. As for all the other SmartFoxBits controls, the ChatBox internal components are Flex controls which can be accessed to set their properties (check the Flex documentation for controls styling operations).<br />The ChatBox can be customized by hiding the color picker tool and setting the input field label, its initial message and the button label. You can also set your custom system messages that appear inside the main chat area, like the header in front of each user message, the alerts in case of user entering/leaving the chat room, the Administrator and Moderator messages' headers.<br />All this messages can be entered using html formatting, and support a number of parameters to display dynamic data (user name, room name, time, date).<br /><br /><b>NOTE</b>: in the provided examples, <code>chatBox</code> always indicates a ChatBox instance.<div class="classFields"><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Usage:</span><div class="item"><ul><li> Add the "SmartFoxBits base Pack.swc" file to the Library Path in your Flex project properties: the SmartFoxBits category will appear in the Flex Components panel.<br />				Drag the ChatBox control from the Components panel and drop it in the Flex Design View. The ChatBox properties can be set in Flex Properties panel or in the Source View (by editing the MXML tag) at author-time.<br />				The ChatBox instance can also be created and its properties set at run-time, using ActionScript.<br />				The ChatBox communicates with SmartFoxServer through the <a class="className" href="com_smartfoxserver_smartfoxbits_bits_Connector.html">Connector</a> control: read the Connector's class description for additional informations.<br />				During run-time usage, as soon as a SmartFoxServer room is joined, the control is enabled and the user can enter a message and hit the button (or the Enter key) to send it.<br />				To use the ChatBox for private chatting, make use of the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#setPrivateChatUserId">setPrivateChatUserId</a> method to enable the "private chat" mode and set the ID of the user you want to establish private communication with.<br />				NOTE: public user interaction is not available if a "Limbo" room is joined.<hr /><b>Styling</b><br />				The following styles are available for the ChatBox control:<br />				<code>gap</code><br />				<code>paddingBottom</code><br />				<code>paddingLeft</code><br />				<code>paddingRight</code><br />				<code>paddingTop</code><br />				Styles can be applied using the standard Flex styling systems. Check the Flex documentation for additional informations. </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To instantiate the ChatBox at author-time via MXML, write the following:<br />				<pre>
&#60;sfb:ChatBox id=<span class="codeString">"chatBox"</span> /&#62;</pre><hr/>To instantiate the ChatBox at run-time, write the following:<br />				<pre>
<span class="codeKeyword">import</span> com.smartfoxserver.smartfoxbits.bits.ChatBox

<span class="codeComment">// Create ChatBox instance</span>
<span class="codeKeyword">var</span> chatBox:ChatBox = <span class="codeKeyword">new</span> ChatBox()

<span class="codeComment">// Add ChatBox instance to the display list</span>
addChild(chatBox)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Events broadcasted to listeners:</span><div class="item"><ul><li><a href="com_smartfoxserver_smartfoxbits_events_BitEvent.html#CLEAR_CLICK">BitEvent</a> with type: <code>CLEAR_CLICK</code> <ul class="summary inheritDoc"><li>Dispatched by the <a class="className" href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html">ChatBox</a> component when the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#clearButton">clearButton</a> button is pressed.</li></ul></li></ul></div></div></div></div></div></div><div class="summary"><h2 id="Summary">Summary</h2><div class="docNav"><ul><li><div id="twistyTypeInfo_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">&times;</span>Hide type info</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleTypeInfo_on");</script><div id="twistyTypeInfo_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">+</span>Show type info</a></div><span id="twistyTypeInfo_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleTypeInfo_off");</script></li><li><div id="twistySummaries_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">&times;</span>Hide summaries</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSummaries_on");</script><div id="twistySummaries_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">+</span>Show summaries</a></div><span id="twistySummaries_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSummaries_off");</script></li><li><div id="twistySort_show" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">&times;</span>Sort by source order</a></div><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSort_on");</script><div id="twistySort_hide" class="twistyTrigger twikiUnvisited twikiMakeVisible twistyInited twistyRememberSetting"><a href="#"><span class="icon">+</span>Sort alphabetically</a></div><span id="twistySort_toggle" class="twistyContent"><!----></span><script type="text/javascript">twiki.JQueryTwistyPlugin.initId("toggleSort_off");</script></li></ul><br class="clear" /></div><div class="memberList"><div class="memberSummaryPart"><span class="title">Constructor</span><ul class="sortable" id="sortul1"><li class="sortli listnum1"><a href="#ChatBox">ChatBox</a></li></ul></div><div class="memberSummaryPart"><span class="title">Instance properties</span><ul class="sortable" id="sortul2"><li class="sortli listnum1"><a href="#inputLabelText">inputLabelText</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The text of the label located above the message input field.</li></ul></li><li class="sortli listnum2"><a href="#sendButtonText">sendButtonText</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The label of the "send" button.</li></ul></li><li class="sortli listnum3"><a href="#privateChatMode">privateChatMode</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>        Enable/disable the "private chat" mode.</li></ul></li><li class="sortli listnum4"><a href="#groupMessages">groupMessages</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>        Group messages per sender.</li></ul></li><li class="sortli listnum5"><a href="#initialMessage">initialMessage</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The initial message to be displayed inside the message input field.</li></ul></li><li class="sortli listnum6"><a href="#messageHeader">messageHeader</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The html text displayed in front of a message in the main chat area.</li></ul></li><li class="sortli listnum7"><a href="#adminMessageHeader">adminMessageHeader</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The html text displayed in front of an Administrator message in the main chat area.</li></ul></li><li class="sortli listnum8"><a href="#moderatorMessageHeader">moderatorMessageHeader</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The html text displayed in front of an Moderator message in the main chat area.</li></ul></li><li class="sortli listnum9"><a href="#roomJoinAlert">roomJoinAlert</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The html text displayed in the main chat area when the current user joins the chat room.</li></ul></li><li class="sortli listnum10"><a href="#userEnterRoomAlert">userEnterRoomAlert</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The html text displayed in the main chat area whenever a user enters the current chat room.</li></ul></li><li class="sortli listnum11"><a href="#userLeaveRoomAlert">userLeaveRoomAlert</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The html text displayed in the main chat area whenever a user leaves the current chat room.</li></ul></li><li class="sortli listnum12"><a href="#restrict">restrict</a><span class="typeInfo">  : String</span><ul class="summary"><li>        The set of characters that a user may or may not enter into the message input field.</li></ul></li><li class="sortli listnum13"><a href="#showClearButton">showClearButton</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>        Show/hide the "clear" button.</li></ul></li><li class="sortli listnum14"><a href="#showColorPicker">showColorPicker</a><span class="typeInfo">  : Boolean</span><ul class="summary"><li>        Show/hide the color picker tool.</li></ul></li><li class="sortli listnum15"><a href="#systemAlertsColor">systemAlertsColor</a><span class="typeInfo">  : uint</span><ul class="summary"><li>        The default color of system messages in the main chat area.</li></ul></li><li class="sortli listnum16"><a href="#messageLabel">messageLabel</a><span class="typeInfo">  : Label</span><ul class="summary"><li>        A reference to the message input Label control.</li></ul></li><li class="sortli listnum17"><a href="#sendButton">sendButton</a><span class="typeInfo">  : Button</span><ul class="summary"><li>        A reference to the "send" Button control.</li></ul></li><li class="sortli listnum18"><a href="#clearButton">clearButton</a><span class="typeInfo">  : Button</span><ul class="summary"><li>        A reference to the "clear" Button control.</li></ul></li><li class="sortli listnum19"><a href="#messageTextInput">messageTextInput</a><span class="typeInfo">  : TextInput</span><ul class="summary"><li>        A reference to the message TextInput control.</li></ul></li><li class="sortli listnum20"><a href="#chatTextArea">chatTextArea</a><span class="typeInfo">  : TextArea</span><ul class="summary"><li>        A reference to the chat TextArea control.</li></ul></li><li class="sortli listnum21"><a href="#colorPicker">colorPicker</a><span class="typeInfo">  : ColorPicker</span><ul class="summary"><li>        A reference to the ColorPicker control.</li></ul></li><li class="sortli listnum22"><a href="#messageQueue">messageQueue</a><span class="typeInfo">  : Array</span><ul class="summary"><li>        The queue of sent and received messages.</li></ul></li><li class="sortli listnum23"><a href="#privateChatUserId">privateChatUserId</a><span class="typeInfo">  : Number</span><ul class="summary"><li>        The SmartFoxServer ID of the user that the ChatBox is listeng to in "private chat" mode.</li></ul></li></ul></div><div class="memberSummaryPart"><span class="title">Instance methods</span><ul class="sortable" id="sortul3"><li class="sortli listnum1"><a href="#destroy">destroy</a><span class="typeInfo">  : void</span><ul class="summary"><li>        Destroy the ChatBox instance.</li></ul></li><li class="sortli listnum2"><a href="#clear">clear</a><span class="typeInfo">  : void</span><ul class="summary"><li>        Clear the chat area.</li></ul></li><li class="sortli listnum3"><a href="#setPrivateChatUserId">setPrivateChatUserId</a><span class="typeInfo"> (userId:Number, msgQueue:Array = null) : void</span><ul class="summary"><li>        Set the SmartFoxServer ID of the user that the ChatBox is listening to in "private chat" mode.</li></ul></li><li class="sortli listnum4"><a href="#setMessagesQueue">setMessagesQueue</a><span class="typeInfo"> (msgQueue:Array) : void</span><ul class="summary"><li>        Set the list of messages to be displayed in the ChatBox.</li></ul></li></ul></div></div></div><div class="memberSection"><h2 id="Constructor">Constructor</h2><div class="member" id="ChatBox"><h3>ChatBox</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>ChatBox</b> (
</div><div class="code">)</div><br class="clear" /></div></div><div class="description">         ChatBox constructor. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> See the example in the class description. </li></ul></div></div></div></div></div></div><div class="memberSection"><h2 id="Instanceproperties">Instance properties</h2><div class="member" id="adminMessageHeader"><h3>adminMessageHeader</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>adminMessageHeader</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The html text displayed in front of an Administrator message in the main chat area.<br />This header is an html text placed in front of each Administrator message displayed in the chat area.<br />See the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> property description to know which placeholders can be used to display dynamic data in the header; only the <i>#user</i> placeholder is excluded.<br /><br />NOTE: an empty line is always added before and after this alert, to highlight the Administrator message. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the header text in MXML:<br />			<pre>
&#60;sfb:ChatBox adminMessageHeader=<span class="codeString">"&#60;b&#62;[#date - #time] The Administrator says:&#60;/b&#62;&#60;br&#62;"</span> /&#62;</pre><hr/>To set the header text in ActionScript:<pre>
chatBox.adminMessageHeader = <span class="codeString">"&#60;b&#62;[#date - #time] The Administrator says:&#60;/b&#62;&#60;br&#62;"</span></pre><p>NOTE: in this example the header is bold and separated by the message body by a line break. The resulting text is, for example: <i>[15/03/2007 - 11:23:42] The Administrator says:</i> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#moderatorMessageHeader">moderatorMessageHeader</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"adminMsgHeaderChanged"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div><div class="member" id="chatTextArea"><h3>chatTextArea</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>chatTextArea</b>:TextArea
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         A reference to the chat TextArea control.<br />This property allows you to get a reference to the chat Flex TextArea control, to set its properties (for example text styling). Check the <b>Flex Components documentation</b> for additional details. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To access the chat TextArea control in ActionScript:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.TextArea

<span class="codeKeyword">var</span> ta:TextArea = chatBox.chatTextArea
ta<span class="codeIdentifier">.wordWrap</span> = <span class="codeIdentifier">false</span></pre> </li></ul></div></div></div></div></div><div class="member" id="clearButton"><h3>clearButton</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>clearButton</b>:Button
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         A reference to the "clear" Button control.<br />This property allows you to get a reference to the clear Flex Button control, to set its properties (for example size). Check the <b>Flex Components documentation</b> for additional details.<br /><br />NOTE: if you change the Button control size, you then have to call the <code>ChatBox.invalidateDisplayList</code> method to rearrange the ChatBox view accordingly. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To access the clear Button control in ActionScript:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.Button

<span class="codeKeyword">var</span> button:<span class="codeIdentifier">Button</span> = chatBox.clearButton
button<span class="codeIdentifier">.width</span> = <span class="codeNumber">20</span>
button<span class="codeIdentifier">.height</span> = <span class="codeNumber">20</span>

chatBox.invalidateDisplayList()</pre> </li></ul></div></div></div></div></div><div class="member" id="colorPicker"><h3>colorPicker</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>colorPicker</b>:ColorPicker
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         A reference to the ColorPicker control.<br />This property allows you to get a reference to the Flex ColorPicker control, to set its properties. Check the <b>Flex Components documentation</b> for additional details.<br /><br />NOTE: if you change the ColorPicker control size, you then have to call the <code>ChatBox.invalidateDisplayList</code> method to rearrange the ChatBox view accordingly. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To access the ColorPicker control in ActionScript:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.ColorPicker

<span class="codeKeyword">var</span> cp:ColorPicker = chatBox.colorPicker
cp.showTextField = <span class="codeIdentifier">true</span></pre> </li></ul></div></div></div></div></div><div class="member" id="groupMessages"><h3>groupMessages</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>groupMessages</b>:Boolean
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         Group messages per sender.<br />Setting this property to <code>true</code> enables the messages grouping: if two or more messages in a row come from the same sender, only the first header is displayed.<br />If set to <code>false</code>, each message will have its own header, whether the sender is the same or not. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To enable messages grouping using MXML:<br />			<pre>
&#60;sfb:ChatBox groupMessages=<span class="codeString">"true"</span> /&#62;</pre><hr/>To enable messages grouping using ActionScript:<br />			<pre>
chatBox.groupMessages = <span class="codeIdentifier">true</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"groupMessagesFlag"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>true</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"Group messages"</div><div class="floatbox code colorizedCode">type<span class="itemSeparator">:</span></div><div>Boolean</div></td></tr></table></div></div></div></div></div><div class="member" id="initialMessage"><h3>initialMessage</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>initialMessage</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The initial message to be displayed inside the message input field.<br />This message disappears as soon as the input field gains focus. It should be set to an empty string if the message field label is visible. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the initial message in MXML:<br />			<pre>
&#60;sfb:ChatBox initialMessage=<span class="codeString">"Enter your message here"</span> /&#62;</pre><hr/>To set the initial message in ActionScript:<br />			<pre>
chatBox.initialMessage = <span class="codeString">"Enter your message here"</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#inputLabelText">inputLabelText</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"initialMessageChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"Enter your message here"</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"Initial message"</div></td></tr></table></div></div></div></div></div><div class="member" id="inputLabelText"><h3>inputLabelText</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>inputLabelText</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The text of the label located above the message input field.<br />If left empty (as by default), the label doesn't show up in the control. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the label in MXML:<br />			<pre>
&#60;sfb:ChatBox inputLabelText=<span class="codeString">"Enter your message here:"</span> /&#62;</pre><hr/>To set the label in ActionScript:<br />			<pre>
chatBox.inputLabelText = <span class="codeString">"Enter your message here:"</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#sendButtonText">sendButtonText</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#initialMessage">initialMessage</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"labelTextChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>""</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"Label text"</div></td></tr></table></div></div></div></div></div><div class="member" id="messageHeader"><h3>messageHeader</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>messageHeader</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The html text displayed in front of a message in the main chat area.<br />The message header is an html text placed in front of each new message displayed in the chat area. If <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#groupMessages">groupMessages</a> is set to <code>true</code>, the header is displayed only if the sender of the new message differs from the sender of the previous message.<br />It is possible to show dynamic data in the header using the following placeholders:<ul><li><code>#user</code>: displays the sender's username;</li><li><code>#time</code>: displays the time at which the message was received (format is h:mm:ss);</li><li><code>#date</code>: displays the date at which the message was received (format is dd/mm/yyyy);</li><li><code>#room</code>: displays the room name.</li></ul> </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the header text in MXML:<br />			<pre>
&#60;sfb:ChatBox messageHeader=<span class="codeString">"&#60;b&#62;[#date - #time] #user says:&#60;/b&#62;&#60;br&#62;"</span> /&#62;</pre><hr/>To set the header text in ActionScript:<br />			<pre>
chatBox.messageHeader = <span class="codeString">"&#60;b&#62;[#date - #time] #user says:&#60;/b&#62;&#60;br&#62;"</span></pre>			NOTE: in this example the header is bold and separated by the message body by a line break. The resulting text is, for example: <i>[15/03/2007 - 9:34:18] Jack says:</i> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#groupMessages">groupMessages</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#adminMessageHeader">adminMessageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#moderatorMessageHeader">moderatorMessageHeader</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"messageHeaderChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div><div class="member" id="messageLabel"><h3>messageLabel</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>messageLabel</b>:Label
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         A reference to the message input Label control.<br />This property allows you to get a reference to the message input Flex Label control, to set its properties (for example text styling). Check the <b>Flex Components documentation</b> for additional details. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To access the message input Label control in ActionScript:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.Label

<span class="codeKeyword">var</span> label:Label = chatBox.messageLabel
label<span class="codeIdentifier">.setStyle</span>(<span class="codeString">"color"</span>, 0xFFCC00)</pre> </li></ul></div></div></div></div></div><div class="member" id="messageQueue"><h3>messageQueue</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>messageQueue</b>:Array
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         The queue of sent and received messages.<br />The messageQueue property is an array containing all messages sent or received since when the user entered the room. Message headers are excluded.<br />Each item in the queue is an object with the following properties:<ul><li><b>userId</b>:Number<br>The SmartFoxServer user ID of the message sender. For system messages (user enter/leave room, administrator messages, etc.) this property is undefined.</li><li><b>userName</b>:String<br>The name of the message sender. For system messages (user enter/leave room, administrator messages, etc.) this property is undefined.</li><li><b>text</b>:String<br>The message text.</li></ul> </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To retrieve the last message received:<br />			<pre>
<span class="codeKeyword">var</span> queue:<span class="codeIdentifier">Array</span> = chatBox.messageQueue
<span class="codeKeyword">var</span> msgObj:<span class="codeIdentifier">Object</span> = queue[queue<span class="codeIdentifier">.length</span> - <span class="codeNumber">1</span>]

<span class="codeKeyword">var</span> senderName:<span class="codeIdentifier">String</span> = msgObj.userName
<span class="codeKeyword">var</span> message:<span class="codeIdentifier">String</span> = msgObj<span class="codeIdentifier">.text</span>

<span class="codeIdentifier">trace</span>(<span class="codeString">"Message from "</span> + senderName + <span class="codeString">": "</span> + message)</pre> </li></ul></div></div></div></div></div><div class="member" id="messageTextInput"><h3>messageTextInput</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>messageTextInput</b>:TextInput
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         A reference to the message TextInput control.<br />This property allows you to get a reference to the message Flex TextInput control, to set its properties (for example text styling). Check the <b>Flex Components documentation</b> for additional details. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To access the message TextInput control in ActionScript:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.TextInput

<span class="codeKeyword">var</span> ti:TextInput = chatBox.messageTextInput
ti<span class="codeIdentifier">.setStyle</span>(<span class="codeString">"color"</span>, 0xFFCC00)</pre> </li></ul></div></div></div></div></div><div class="member" id="moderatorMessageHeader"><h3>moderatorMessageHeader</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>moderatorMessageHeader</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The html text displayed in front of an Moderator message in the main chat area.<br />This header is an html text placed in front of each Moderator message displayed in the chat area.<br />See the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> property description to know which placeholders can be used to display dynamic data in the header; only the <i>#user</i> placeholder is excluded.<br /><br />NOTE: an empty line is always added before and after this alert, to highlight the Moderator message. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the header text in MXML:<br />			<pre>
&#60;sfb:ChatBox moderatorMessageHeader=<span class="codeString">"&#60;b&#62;[#date - #time] The Moderator says:&#60;/b&#62;&#60;br&#62;"</span> /&#62;</pre><hr/>To set the header text in ActionScript:<pre>
chatBox.moderatorMessageHeader = <span class="codeString">"&#60;b&#62;[#date - #time] The Moderator says:&#60;/b&#62;&#60;br&#62;"</span></pre><p>NOTE: in this example the header is bold and separated by the message body by a line break. The resulting text is, for example: <i>[15/03/2007 - 22:16:08] The Moderator says:</i> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#adminMessageHeader">adminMessageHeader</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"moderatorMessageHeaderChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div><div class="member" id="privateChatMode"><h3>privateChatMode</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>privateChatMode</b>:Boolean
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         Enable/disable the "private chat" mode.<br />Setting this property to <code>true</code> enables the "private chat" mode: public messages are discarded and only private messages coming from the user selected through the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#privateChatUserId">privateChatUserId</a> property are displayed.<br /><br />NOTE: when in private mode, also Administrator and Moderator messages and some alerts are discarded. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To disable the "private chat" mode using MXML:<br />			<pre>
&#60;sfb:ChatBox privateChatMode=<span class="codeString">"false"</span> /&#62;</pre><hr/>To disable the "private chat" mode using ActionScript:<br />			<pre>
chatBox.privateChatMode = <span class="codeIdentifier">false</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#privateChatUserId">privateChatUserId</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#setPrivateChatUserId">setPrivateChatUserId</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"privateChatModeChanged"</div></td></tr></table></div></div></div></div></div><div class="member" id="privateChatUserId"><h3>privateChatUserId</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>privateChatUserId</b>:Number
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         The SmartFoxServer ID of the user that the ChatBox is listeng to in "private chat" mode.<br />This property contains the ID of the user that the ChatBox is currently receiving private messages from. This is a "read-only" property: check the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#setPrivateChatUserId">setPrivateChatUserId</a> method for additional informations. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To retrieve the private chat user ID:<br />			<pre>
<span class="codeKeyword">var</span> userId:<span class="codeIdentifier">Number</span> = chatBox.privateChatUserId</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#setPrivateChatUserId">setPrivateChatUserId</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#privateChatMode">privateChatMode</a> </li></ul></div></div></div></div></div><div class="member" id="restrict"><h3>restrict</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>restrict</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The set of characters that a user may or may not enter into the message input field.<br />Check the Flex TextInput control documentation for a description and usage examples of this property.<br />By default, tag delimiters ("<code>&lt;</code>" and "<code>&gt;</code>" characters) are not allowed, to prevent possible html textfields corruption. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Inspectable</th><td class="uneven"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div><div class="member" id="roomJoinAlert"><h3>roomJoinAlert</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>roomJoinAlert</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The html text displayed in the main chat area when the current user joins the chat room.<br />See the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> property description to know which placeholders can be used to display dynamic data in the alert message; set this property to an empty string to disable the alert.<br /><br />NOTE: a line break is always added at the end of this alert. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the join alert text in MXML:<br />			<pre>
&#60;sfb:ChatBox roomJoinAlert=<span class="codeString">"&#60;i&#62;You entered #room room&#60;/i&#62;"</span> /&#62;</pre><hr/>To set the join alert text in ActionScript:<br />			<pre>
chatBox.roomJoinAlert = <span class="codeString">"&#60;i&#62;You entered #room room&#60;/i&#62;"</span></pre>			NOTE: in this example the alert is italic and the resulting text is, for example: <i>You entered The Hall room</i> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#userEnterRoomAlert">userEnterRoomAlert</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#userLeaveRoomAlert">userLeaveRoomAlert</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"roomJoinAlertChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div><div class="member" id="sendButton"><h3>sendButton</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>sendButton</b>:Button
</div><div class="floatbox"><span class="access">(read)</span></div><br class="clear" /></div></div><div class="description">         A reference to the "send" Button control.<br />This property allows you to get a reference to the send Flex Button control, to set its properties (for example size). Check the <b>Flex Components documentation</b> for additional details.<br /><br />NOTE: if you change the Button control size, you then have to call the <code>ChatBox.invalidateDisplayList</code> method to rearrange the ChatBox view accordingly. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To access the send Button control in ActionScript:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.Button

<span class="codeKeyword">var</span> button:<span class="codeIdentifier">Button</span> = chatBox.sendButton
button<span class="codeIdentifier">.height</span> = <span class="codeNumber">100</span>

chatBox.invalidateDisplayList()</pre> </li></ul></div></div></div></div></div><div class="member" id="sendButtonText"><h3>sendButtonText</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>sendButtonText</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The label of the "send" button. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the send button label in MXML:<br />			<pre>
&#60;sfb:ChatBox sendButtonText=<span class="codeString">"Send"</span> /&#62;</pre><hr/>To set the send button label in ActionScript:<br />			<pre>
chatBox.sendButtonText = <span class="codeString">"Send"</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#inputLabelText">inputLabelText</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"sendButtonTextChanged"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"Send"</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"Button text"</div></td></tr></table></div></div></div></div></div><div class="member" id="showClearButton"><h3>showClearButton</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>showClearButton</b>:Boolean
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         Show/hide the "clear" button. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To show the clear button using MXML:<br />			<pre>
&#60;sfb:ChatBox showClearButton=<span class="codeString">"true"</span> /&#62;</pre><hr/>To show the clear button using ActionScript:<br />			<pre>
chatBox.showClearButton = <span class="codeIdentifier">true</span></pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Inspectable</th><td class="uneven"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>false</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"Show clear button"</div><div class="floatbox code colorizedCode">type<span class="itemSeparator">:</span></div><div>Boolean</div></td></tr></table></div></div></div></div></div><div class="member" id="showColorPicker"><h3>showColorPicker</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>showColorPicker</b>:Boolean
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         Show/hide the color picker tool.<br />As the message color is taken from the ColorPicker, even if it is hidden you can set its color accessing the component programmatically, through the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#colorPicker">colorPicker</a> property. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To hide the color picker using MXML:<br />			<pre>
&#60;sfb:ChatBox showColorPicker=<span class="codeString">"false"</span> /&#62;</pre><hr/>To hide the color picker using ActionScript:<br />			<pre>
chatBox.showColorPicker = <span class="codeIdentifier">false</span></pre><hr/>To set the color picker selected color programmatically:<br />			<pre>
<span class="codeKeyword">import</span> mx.controls.ColorPicker

<span class="codeKeyword">var</span> cp:ColorPicker = chatBox.colorPicker
cp.selectedColor = 0xFFCC00</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Inspectable</th><td class="uneven"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>true</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"Show color picker"</div><div class="floatbox code colorizedCode">type<span class="itemSeparator">:</span></div><div>Boolean</div></td></tr></table></div></div></div></div></div><div class="member" id="systemAlertsColor"><h3>systemAlertsColor</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>systemAlertsColor</b>:uint
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The default color of system messages in the main chat area.<br />This property sets the default color of all the system alerts displayed in the main chat area: messages headers, user enter/leave room alerts, room join alert, administrator and moderator messages.<br /><br />NOTE: you can override this default value for a specific system message using the <i>font</i> tag in the alert text itself, setting the <i>color</i> property. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the global system alerts color using MXML:<br />			<pre>
&#60;sfb:ChatBox systemAlertsColor=<span class="codeString">"#CC0000"</span> /&#62;</pre><hr/>To set the global system alerts color ActionScript:<br />			<pre>
chatBox.systemAlertsColor = 0xCC0000</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#adminMessageHeader">adminMessageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#moderatorMessageHeader">moderatorMessageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#userEnterRoomAlert">userEnterRoomAlert</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#userLeaveRoomAlert">userLeaveRoomAlert</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#roomJoinAlert">roomJoinAlert</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"systemAlertsColorChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"#666666"</div><div class="floatbox code colorizedCode">format<span class="itemSeparator">:</span></div><div>"Color"</div><div class="floatbox code colorizedCode">name<span class="itemSeparator">:</span></div><div>"System alerts color"</div></td></tr></table></div></div></div></div></div><div class="member" id="userEnterRoomAlert"><h3>userEnterRoomAlert</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>userEnterRoomAlert</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The html text displayed in the main chat area whenever a user enters the current chat room.<br />See the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> property description to know which placeholders can be used to display dynamic data in the alert message; set this property to an empty string to disable the alert.<br /><br />NOTE: a line break is always added at the end of this alert. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the user join room alert in MXML:<br />			<pre>
&#60;sfb:ChatBox userEnterRoomAlert=<span class="codeString">"&#60;i&#62;#user entered the room&#60;/i&#62;"</span> /&#62;</pre><hr/>To set the user join room alert in ActionScript:<br />			<pre>
chatBox.userEnterRoomAlert = <span class="codeString">"&#60;i&#62;#user entered the room&#60;/i&#62;"</span></pre>			NOTE: in this example the alert is italic and the resulting text is, for example: <i>Jack entered the room</i> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#userLeaveRoomAlert">userLeaveRoomAlert</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#roomJoinAlert">roomJoinAlert</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"userEnterRoomAlertChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div><div class="member" id="userLeaveRoomAlert"><h3>userLeaveRoomAlert</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> <b>userLeaveRoomAlert</b>:String
</div><div class="floatbox"><span class="access">(read,write)</span></div><br class="clear" /></div></div><div class="description">         The html text displayed in the main chat area whenever a user leaves the current chat room.<br />See the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> property description to know which placeholders can be used to display dynamic data in the alert message; set this property to an empty string to disable the alert.<br /><br />NOTE: a line break is always added at the end of this alert. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the user leave room alert in MXML:<br />			<pre>
&#60;sfb:ChatBox userLeaveRoomAlert=<span class="codeString">"&#60;i&#62;#user left the room&#60;/i&#62;"</span> /&#62;</pre><hr/>To set the user leave room alert in ActionScript:<br />			<pre>
chatBox.userLeaveRoomAlert = <span class="codeString">"&#60;i&#62;#user left the room&#60;/i&#62;"</span></pre>			NOTE: in this example the alert is italic and the resulting text is, for example: <i>Jack left the room</i> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageHeader">messageHeader</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#userEnterRoomAlert">userEnterRoomAlert</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#roomJoinAlert">roomJoinAlert</a> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Component metadata:</span><div class="item"><ul></ul><table cellspacing="0"><tr><th align="left" class="uneven">Bindable</th><td class="uneven"><div class="floatbox code colorizedCode"></div><div>"userLeaveRoomAlertChange"</div></td></tr><tr><th align="left" class="even">Inspectable</th><td class="even"><div class="floatbox code colorizedCode">category<span class="itemSeparator">:</span></div><div>"Common"</div><div class="floatbox code colorizedCode">defaultValue<span class="itemSeparator">:</span></div><div>"</div></td></tr></table></div></div></div></div></div></div><div class="memberSection"><h2 id="Instancemethods">Instance methods</h2><div class="member" id="clear"><h3>clear</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>clear</b> (
</div><div class="code">) : void</div><br class="clear" /></div></div><div class="description">         Clear the chat area.<br />This method to empties the chat TextArea and the message TextInput and resets the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> property. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To clear the chat:<br />			<pre>
chatBox<span class="codeIdentifier">.clear</span>()</pre> </li></ul></div></div></div></div></div><div class="member" id="destroy"><h3>destroy</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>destroy</b> (
</div><div class="code">) : void</div><br class="clear" /></div></div><div class="description">         Destroy the ChatBox instance.<br />This method should be called to make the ChatBox eligible for garbage-collection in the Flash Player.<br />When called, this methods removes the listeners to the <a href="http://www.smartfoxserver.com/docs/docPages/as3/html/it_gotoandplay_smartfoxserver_SmartFoxClient.html" target="_blank">SmartFoxClient</a> events added during initialization. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To destroy the ChatBox instance:<br />			<pre>
chatBox.destroy()</pre> </li></ul></div></div></div></div></div><div class="member" id="setMessagesQueue"><h3>setMessagesQueue</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>setMessagesQueue</b> (
</div><div class="code">msgQueue:Array) : void</div><br class="clear" /></div></div><div class="description">         Set the list of messages to be displayed in the ChatBox.<br />In case you track the public messages that are broadcasted inside a room, and want to show the history whenever a user enters that room, this method can be used to pass a list of previous messages to the ChatBox to be displayed immediately (similarly to what can be done with the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#setPrivateChatUserId">setPrivateChatUserId</a> method for private chat).<br /><br />NOTE: the <i>msgQueue</i> parameter must be an array with the same data structure of the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> property. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">msgQueue<span class="itemSeparator">:</span></div><div>the messages queue to be displayed; it must be an array with the same data structure of the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> property.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To add a list of previous messages to the ChatBox:<br />			<pre>
connector.connection.addEventListener(SFSEvent.onJoinRoom, addChatHistory)

<span class="codeKeyword">function</span> addChatHistory(evt:SFSEvent):<span class="codeKeyword">void</span>
{
    <span class="codeComment">// Get the room id</span>
    <span class="codeKeyword">var</span> rId:<span class="codeIdentifier">Number</span> = evt.params.room.getId()

    <span class="codeComment">// Retrieve the history for the current room using a custom method</span>
    <span class="codeComment">// which returns an array of objects with the same structure</span>
    <span class="codeComment">// described in the "ChatBox.messageQueue" property</span>
    <span class="codeKeyword">var</span> previousChatMessagesArray:<span class="codeIdentifier">Array</span> = getChatHistoryForRoom(rId)

    <span class="codeComment">// Inject history in the ChatBox instance</span>
    chatBox.setMessagesQueue(previousChatMessagesArray)
}

<span class="codeKeyword">function</span> getChatHistoryForRoom(roomId:<span class="codeIdentifier">Number</span>):<span class="codeIdentifier">Array</span>
{
    <span class="codeComment">//...</span>
}</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> </li></ul></div></div></div></div></div><div class="member" id="setPrivateChatUserId"><h3>setPrivateChatUserId</h3><div class="fullMemberString"><div class="floatholder"><div class="floatbox code"><span class="memberAccess">public</span> function <b>setPrivateChatUserId</b> (

</div><div class="code">userId:Number,
msgQueue:Array = null) : void</div><br class="clear" /></div></div><div class="description">         Set the SmartFoxServer ID of the user that the ChatBox is listening to in "private chat" mode.<br />Use this method to set the ID of the user that the ChatBox is currently sending/receiving private messages to/from. If the <i>userId</i> parameter is greater than -1, the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#privateChatMode">privateChatMode</a> is set to <code>true</code> even if this was not set before, and the ChatBox interface is enabled; if <i>userId</i> is equal to -1, the ChatBox remains in "private chat" mode, but the interface is disabled.<br />This method also accepts an array as (optional) second parameter, containing a list of messages to be displayed in the ChatBox immediately. This is useful in case you need to manage several private conversations in one single ChatBox (like in the SmartFoxBits <a class="className" href="com_smartfoxserver_smartfoxbits_bits_UserList.html">UserList</a> control, for example): each time you change user, you can keep track of the current conversation through the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> property and then pass it back to this method when re-enabling the private chat with a previous user.<br /><br />NOTE: the <i>msgQueue</i> parameter must be an array with the same data structure of the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> property. </div><div class="boxWithBorder"><div class="boxedElem"><div class="contentHolder"><span class="title">Parameters:</span><div class="item"><div class="floatbox code colorizedCode">userId  <span class="itemSeparator">:</span></div><div>the ID of the user to enable private chatting with.</div></div><div class="item"><div class="floatbox code colorizedCode">msgQueue<span class="itemSeparator">:</span></div><div>the initial messages queue to be displayed; it must be an array with the same data structure of the <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> property.</div></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">Example:</span><div class="item"><ul><li> To set the private chat user ID:<br />			<pre>
chatBox.setPrivateChatUserId(<span class="codeNumber">15</span>)</pre>			Or:<br />			<pre>
chatBox.setPrivateChatUserId(<span class="codeNumber">15</span>, previousChatMessagesArray)</pre> </li></ul></div></div></div><div class="boxedElem"><div class="contentHolder"><span class="title">See also:</span><div class="item"><ul><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#privateChatUserId">privateChatUserId</a> </li><li> <a href="com_smartfoxserver_smartfoxbits_bits_ChatBox.html#messageQueue">messageQueue</a> </li></ul></div></div></div></div></div></div><div class="footer"><ul class="docFooter"><li class="copyright">&copy; 2004-2009 gotoAndPlay()</li></ul></div></div></div></body></html>